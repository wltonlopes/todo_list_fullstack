DROP DATABASE IF EXISTS TodoListDB;

CREATE DATABASE TodoListDB;

USE TodoListDB;

CREATE TABLE usuarios (
  id INTEGER AUTO_INCREMENT PRIMARY KEY NOT NULL,
  nome TEXT NOT NULL,
  senha INTEGER NOT NULL,
  cargo TEXT
) ENGINE=INNODB;

CREATE TABLE tarefas (
  id INTEGER AUTO_INCREMENT PRIMARY KEY NOT NULL,
  date DATETIME DEFAULT CURRENT_TIMESTAMP,
  tarefa TEXT NOT NULL,
  usuario_id INT NOT NULL,
    FOREIGN KEY (usuario_id)
        REFERENCES usuarios (id)
        ON DELETE CASCADE
)  ENGINE=INNODB;

INSERT INTO usuarios (nome,senha,cargo)
VALUES
  ('Walter', 24344, 'gerente'),
  ('Peter', 15453, 'colaborador'),
  ('Lance', 29234, 'colaborador'),
  ('Freedie', 21234, 'colaborador'),
  ('Tyler', 66534, 'secretario'),
  ('Fog', 23249, 'subgerente');


SET SQL_SAFE_UPDATES = 0;
